<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Dark Triad</title>
    <style>
      img {
        position: absolute;
        width: 137.28px;
        height: 124.75px;
        left: 24px;
        top: 13px;
      }

      .topbox {
        box-sizing: border-box;

        position: absolute;
        width: 1280px;
        height: 150px;
        left: 639px;
        top: 0px;

        border-width: 0px 0px 1px 1px;
        border-style: solid;
        border-color: #480002;
      }

      .header {
        position: absolute;
        width: 279px;
        height: 135px;
        left: 197px;
        top: -25px;

        font-style: normal;
        font-weight: 400;
        font-size: 64px;
        line-height: 64px;
        color: white;
        font-family: "Old English Text MT", "Blackletter", cursive;

        text-align: center;
        line-height: 1.2;

        color: #ffffff;
      }

      .box {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 703px;
        top: 278px;
      }

      .borderleft {
        box-sizing: border-box;

        position: absolute;
        width: 640px;
        height: 1080px;
        left: 0px;
        top: 0px;
        display: block;
        background: none;
        opacity: 1;

        background: #000000;
        border-right: 1px solid #480002;
      }
      .dark {
        position: absolute;
        width: 170px;
        height: 96px;
        left: 150px;
        top: 20px;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 96px;
        line-height: 96px;

        color: #000000;

        -webkit-text-stroke: 2px #e61919;
      }

      .triad {
        position: absolute;
        width: 202px;
        height: 96px;
        left: 320px;
        top: 60px;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 96px;
        line-height: 96px;

        color: #ffffff;
        -webkit-text-stroke: 2px #000000;
      }

      .borderleft img {
        position: absolute;
        width: 640px;
        height: 935px;
        left: 0px;
        top: 175px;
        opacity: 100;
        transition: opacity 0.3s;
      }

      .ascend {
        position: absolute;
        width: 500px;
        height: 39px;
        left: 780px;
        top: 25px;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 300;
        font-size: 40px;
        line-height: 40px;

        color: #ffffff;
      }

      .student {
        position: absolute;
        width: 315px;
        height: 40px;
        left: 680px;
        top: 150px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: bold;
        font-weight: 400;
        font-size: 50px;
        line-height: 40px;

        color: #9b1717;
      }

      .schoolyear {
        position: absolute;
        width: 338px;
        height: 36px;
        left: 694px;
        top: 229px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .studenttype {
        position: absolute;
        width: 174px;
        height: 36px;
        left: 1095px;
        top: 229px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .yearlvl {
        position: absolute;
        width: 138px;
        height: 36px;
        left: 1496px;
        top: 229px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .line {
        position: absolute;
        width: 1280px;
        height: 1px;
        left: 660px;
        top: 370px;

        background: #686363;
      }

      .personal {
        position: absolute;
        width: 328px;
        height: 40px;
        left: 680px;
        top: 370px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 50px;
        line-height: 40px;

        color: #9b1717;
      }

      .first {
        position: absolute;
        width: 148px;
        height: 36px;
        left: 694px;
        top: 450px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .last {
        position: absolute;
        width: 148px;
        height: 36px;
        left: 1095px;
        top: 450px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .middle {
        position: absolute;
        width: 163px;
        height: 36px;
        left: 1496px;
        top: 450px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .email {
        position: absolute;
        width: 191px;
        height: 36px;
        left: 694px;
        top: 550px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .phone {
        position: absolute;
        width: 203px;
        height: 36px;
        left: 1095px;
        top: 550px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .nationality {
        position: absolute;
        width: 151px;
        height: 36px;
        left: 1496px;
        top: 550px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .address {
        position: absolute;
        width: 105px;
        height: 36px;
        left: 694px;
        top: 651px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .birthday {
        position: absolute;
        width: 165px;
        height: 36px;
        left: 1095px;
        top: 651px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .gender {
        position: absolute;
        width: 95px;
        height: 36px;
        left: 1496px;
        top: 651px;
        white-space: nowrap;

        font-family: "Old English Text MT", "Blackletter", cursive;
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 36px;

        color: #504545;
      }

      .schoolyearinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 703px;
        top: 315px;
      }

      .studenttypeinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1100px;
        top: 315px;
      }

      .yearlvlinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1506px;
        top: 315px;
      }

      .firstinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 710px;
        top: 532px;
      }

      .lastinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1110px;
        top: 532px;
      }

      .middleinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1508px;
        top: 532px;
      }

      .emailinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 708px;
        top: 632px;
      }

      .phoneinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1112px;
        top: 632px;
      }

      .nationalityinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1507px;
        top: 632px;
      }

      .addressinput {
        position: absolute;
        width: 518px;
        height: 35px;
        left: 704px;
        top: 730px;
      }

      .birthdayinput {
        position: absolute;
        width: 300px;
        height: 40px;
        left: 1112px;
        top: 730px;
      }

      .genderinput {
        position: absolute;
        max-width: 150px;
        height: auto;
        left: 1507px;
        top: 730px;
      }

      .buttonton {
        font-family: Arial, Helvetica, sans-serif;
        font-style: bold;
        font-size: 35px;
        box-sizing: border-box;

        position: absolute;
        width: 150px;
        height: 50px;
        left: 1770px;
        top: 882px;

        background: #474545;
        border: 1px solid #ffffff;
        border-radius: 15px;
      }

      .clearbutton {
        font-family: Arial, Helvetica, sans-serif;
        font-style: bold;
        font-size: 35px;
        box-sizing: border-box;

        position: absolute;
        width: 150px;
        height: 50px;
        left: 1579px;
        top: 882px;

        background: #474545;
        border: 1px solid #ffffff;
        border-radius: 15px;
      }

      input[type="text"],
      input[type="number"],
      input[type="date"] {
        width: 300px;
        height: 30px; 
        padding: 10px 15px; 
        font-size: 25px; 
        border-radius: 8px; 
        border: 1px solid #ccc;
        background-color: #f0f0f0;
      }
      .overlay-table {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000000cc;
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .overlay-table-content {
      background: #ffffff;
      padding: 20px;
      border-radius: 10px;
      max-height: 80%;
      overflow-y: auto;
      width: 80%;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    table,
    th,
    td {
      border: 1px solid #480002;
    }

    th,
    td {
      padding: 12px;
      text-align: center;
    }

    th {
      background-color: #af4c4c;
      color: white;
    }

    .btn-edit,
    .btn-delete {
      cursor: pointer;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      font-size: 14px;
    }

    .btn-edit {
      background-color: #880000;
      color: white;
    }

    .btn-delete {
      background-color: #dc3545;
      color: white;
    }
    </style>
  </head>
  <body style="background-color: black">
  <div class="background"></div>
  <div class="borderleft">
    <p class="dark">Dark</p>
    <p class="triad">Triad</p>
    <img src="light.png">
  </div>

  <div class="topbox">
    <img src="moggerstyle.png">
    <p class="header">Mogger&nbsp;&nbsp;University</p>
    <p class="ascend">Ascend for a better life</p>
  </div>
  <div>
    <p class="student">Student Information</p>
    <p class="studenttype">Student Program</p>
    <p class="schoolyear">School Year</p>
    <p class="yearlvl">Year Level</p>
    <p class="line">________________________________</p>
  </div>
  <div>
    <p class="personal">Personal Information</p>
    <p class="first">First name</p>
    <p class="last">Last name</p>
    <p class="middle">Middle name</p>
    <p class="email">Email Address</p>
    <p class="phone">Phone number</p>
    <p class="nationality">Nationality</p>
    <p class="address">Address</p>
    <p class="birthday">Date of birth</p>
    <p class="gender">Gender</p>
  </div>
  <section>
    <form id="recordform">
      <label class="schoolyearinput">
        <input type="text" id="schoolyear" placeholder="SY"></label><br>
      <label class="studenttypeinput">
        <input type="text" id="studentprogram" placeholder="Student program"> </label><br>
      <label class="yearlvlinput">
        <input type="text" id="yearlevel" placeholder="Yr"> </label><br>
      <label class="firstinput">
        <input type="text" id="firstname" placeholder="First name"> </label><br>
      <label class="lastinput">
        <input type="text" id="lastname" placeholder="Last name"> </label><br>
      <label class="middleinput">
        <input type="text" id="middlename" placeholder="Middle name"> </label><br>
      <label class="emailinput">
        <input type="text" id="emailaddress" placeholder="lowkeybrian05@yahoo.com"> </label><br>
      <label class="phoneinput">
        <input type="number" id="phonenumber" placeholder="09*********"> </label><br>
      <label class="nationalityinput">
        <input type="text" id="nationality" placeholder="Nationality"> </label><br>
      <label class="addressinput">
        <input type="text" id="address" placeholder="123markgayson"> </label><br>
      <label class="birthdayinput">
        <input type="date" id="dateofbirth" placeholder="MM/DD/YR"> </label><br>
      <label class="genderinput">
        <input type="text" id="gender" placeholder="Male/Female"> </label><br>

      <button class="buttonton" type="button" onclick="saverecord()">
        Save
      </button>
      <button class="clearbutton" type="button" onclick="clearrecord()">
        Clear
      </button>
    </form>
    <button type="button" 
  style="position:absolute; left:1370px; top:882px; width:150px; height:50px; 
  background:#474545; color:white; font-size:35px; border:1px solid white; border-radius:15px;"
  onclick="showTable()">View</button>

<div class="overlay-table" id="overlay-table" >
  <div class="overlay-table-content" >
    <h2>Student Records</h2>
    <table id="student-table">
      <thead>
        <tr>
          <th>School Year</th>
          <th>Program</th>
          <th>Year Level</th>
          <th>Name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="student-table-body"></tbody>
    </table>
    <br>
    <button onclick="closeTable()" 
      style="background:#000000; color:#ffffff; padding:10px 20px; border-radius:8px; font-size:16px;">
      Close
    </button>
  </div>
</div>
  </section>

<script>
   const DB_KEY = "Dark_Triad_student_db_v1";

  const seedData = [
    {
      schoolyear: "2025-2026",
      studentprogram: "BSA",
      yearlevel: "1st",
      firstname: "juvel",
      lastname: "matal",
      middlename: "canay",
      email: "markgrayson@gmail.com",
      phonenumber: "0913442536",
      nationality: "african",
      address: "124agay taytay rizal",
      dateofbirth: "2001-08-16",
      gender: "bisexual",
    },
  ];

  let db = [];

  function loadDB() {
    const raw = localStorage.getItem(DB_KEY);
    if (raw) {
      db = JSON.parse(raw);
    } else {
      db = seedData;
      saveDB();
    }
  }

  function saveDB() {
    localStorage.setItem(DB_KEY, JSON.stringify(db));
  }

  function saverecord() {
    const fields = {
      schoolyear: document.getElementById("schoolyear").value.trim(),
      studentprogram: document.getElementById("studentprogram").value.trim(),
      yearlevel: document.getElementById("yearlevel").value.trim(),
      firstname: document.getElementById("firstname").value.trim(),
      lastname: document.getElementById("lastname").value.trim(),
      middlename: document.getElementById("middlename").value.trim(),
      email: document.getElementById("emailaddress").value.trim(),
      phonenumber: document.getElementById("phonenumber").value.trim(),
      nationality: document.getElementById("nationality").value.trim(),
      address: document.getElementById("address").value.trim(),
      dateofbirth: document.getElementById("dateofbirth").value.trim(),
      gender: document.getElementById("gender").value.trim(),
    };

    for (const [key, val] of Object.entries(fields)) {
      if (!val) {
        alert("Please fill out the " + key + " field before saving.");
        return;
      }
    }

    const emailPattern = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
    if (!emailPattern.test(fields.email)) {
      alert("Invalid email address format.");
      return;
    }

    if (fields.phonenumber.length < 10 || isNaN(fields.phonenumber)) {
      alert("Please enter a valid phone number (at least 10 digits).");
      return;
    }

    db.push(fields);
    saveDB();
    alert("Record saved successfully!");
    document.getElementById("recordform").reset();
    renderTable(); // Refresh the table after saving
  }

  function clearrecord() {
    document.getElementById("recordform").reset();
  }

  // ============================
  // ðŸ§¾ SHOW, EDIT, DELETE LOGIC
  // ============================

  // Show the overlay with student table
  function showTable() {
    renderTable();
    document.getElementById("overlay-table").style.display = "flex";
  }

  // Close overlay
  function closeTable() {
    document.getElementById("overlay-table").style.display = "none";
  }

  // Render table contents
  function renderTable() {
    const tbody = document.getElementById("student-table-body");
    tbody.innerHTML = ""; // Clear previous rows

    db.forEach((record, index) => {
      const row = document.createElement("tr");

      row.innerHTML = `
        <td>${record.schoolyear}</td>
        <td>${record.studentprogram}</td>
        <td>${record.yearlevel}</td>
        <td>${record.firstname} ${record.middlename} ${record.lastname}</td>
        <td>${record.email}</td>
        <td>
          <button class="btn-edit" onclick="editRecord(${index})">Edit</button>
          <button class="btn-delete" onclick="deleteRecord(${index})">Delete</button>
        </td>
      `;

      tbody.appendChild(row);
    });
  }

  // Delete record
  function deleteRecord(index) {
    if (confirm("Are you sure you want to delete this record?")) {
      db.splice(index, 1);
      saveDB();
      renderTable();
    }
  }

  // Edit record
  function editRecord(index) {
    const record = db[index];
    // Fill the form with record data
    document.getElementById("schoolyear").value = record.schoolyear;
    document.getElementById("studentprogram").value = record.studentprogram;
    document.getElementById("yearlevel").value = record.yearlevel;
    document.getElementById("firstname").value = record.firstname;
    document.getElementById("lastname").value = record.lastname;
    document.getElementById("middlename").value = record.middlename;
    document.getElementById("emailaddress").value = record.email;
    document.getElementById("phonenumber").value = record.phonenumber;
    document.getElementById("nationality").value = record.nationality;
    document.getElementById("address").value = record.address;
    document.getElementById("dateofbirth").value = record.dateofbirth;
    document.getElementById("gender").value = record.gender;

    // Remove the old record so when we save, it updates
    db.splice(index, 1);
    saveDB();

    // Close table to continue editing
    closeTable();

    alert("You can now edit and save the record again.");
  }

  loadDB();
  renderTable();
</script>
  </body>
</html>
